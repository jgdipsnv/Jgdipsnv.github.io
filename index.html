<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Safe Browser - Focus Shield</title>
    <!-- iPhone Add to Home Screen Settings -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Safe Browser">
    <link rel="apple-touch-icon" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgdmlld0JveD0iMCAwIDE4MCAxODAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxODAiIGhlaWdodD0iMTgwIiByeD0iNDAiIGZpbGw9IiM0QTkwRTIiLz4KPHBhdGggZD0iTTkwIDE1NC41QzkwIDE1NC41IDE0MS43NSAxMTkuMjUgMTQxLjc1IDgyLjVWNDVMOTAgMjIuNUwzOC4yNSA0NVY4Mi41QzM4LjI1IDExOS4yNSA5MCAxNTQuNSA5MCAxNTQuNVoiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMTAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L3N2Zz4K">

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: #f8fafc; /* A light slate background */
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <div class="container mx-auto p-4 max-w-4xl min-h-screen flex flex-col">
        <!-- Header with Icon -->
        <header class="flex items-center space-x-3 mb-4">
            <div class="bg-blue-500 p-2 rounded-lg shadow">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>
            </div>
            <h1 class="text-xl font-bold text-slate-700">Safe Browser</h1>
        </header>

        <!-- URL Input Form -->
        <form id="url-form" class="flex items-center gap-2 mb-4">
            <div class="relative flex-grow">
                 <span class="absolute left-3 top-1/2 -translate-y-1/2 text-slate-400">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
                 </span>
                <input type="text" id="url-input" placeholder="Enter a website URL to check..." class="w-full pl-10 pr-4 py-3 border border-slate-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition duration-150">
            </div>
            <button type="submit" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-lg shadow-md hover:shadow-lg transition duration-150">Go</button>
        </form>

        <!-- Main Content Area -->
        <main class="flex-grow bg-white border border-slate-200 rounded-lg shadow-inner p-4 flex items-center justify-center">
            <div id="status-view" class="text-center">
                 <!-- Welcome View -->
                 <div id="welcome-view" class="flex flex-col items-center justify-center text-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="text-blue-500 mb-6 w-16 h-16 sm:w-20 sm:h-20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>
                    <h2 class="text-2xl sm:text-3xl font-bold text-slate-800">Your Digital Gatekeeper</h2>
                    <p class="mt-2 text-sm sm:text-base text-slate-600 max-w-md">Enter a URL to check it. If it's safe, you'll be redirected. Blocked sites will be stopped here.</p>
                    <p class="mt-4 text-xs sm:text-sm text-slate-500 max-w-lg"><strong>How it works:</strong> This app acts as a filter. To return here after visiting a site, simply use your browser's back button.</p>
                 </div>
                 <!-- Blocked View -->
                 <div id="blocked-view" class="hidden flex-col items-center justify-center text-center">
                     <svg xmlns="http://www.w3.org/2000/svg" class="text-red-500 mb-6 w-16 h-16 sm:w-20 sm:h-20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>
                     <h2 class="text-2xl sm:text-3xl font-bold text-red-700">Content Blocked</h2>
                     <p class="mt-2 text-sm sm:text-base text-slate-600">This content is blocked to help you stay focused.</p>
                 </div>
            </div>
        </main>
    </div>

    <script>
        const urlForm = document.getElementById('url-form');
        const urlInput = document.getElementById('url-input');
        const welcomeView = document.getElementById('welcome-view');
        const blockedView = document.getElementById('blocked-view');

        // Expanded list of keywords to block
        const blockedKeywords = [
            'porn', 'sex', 'xxx', 'adult', 'erotic', 'nude', 'naked', 'hentai',
            'lust', 'pleasure', 'fuck', 'pussy', 'dick', 'tits', 'boobs', 'milf',
            'babe', 'horny', 'slut', 'whore', 'cum', 'climax', 'orgasm', 'fetish',
            'bdsm', 'kink', 'incest', 'rape', 'jav', 'tube', 'xvideos', 'pornhub',
            'xnxx', 'redtube', 'youporn', 'livejasmin', 'chaturbate', 'onlyfans'
        ];

        urlForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const rawUrl = urlInput.value.trim();
            if (rawUrl) {
                loadUrl(rawUrl);
            }
        });

        // Function to ensure URL has http:// or https://
        function formatUrl(url) {
            if (!url.startsWith('http://') && !url.startsWith('https://')) {
                return 'https://' + url;
            }
            return url;
        }

        function loadUrl(url) {
            const formattedUrl = formatUrl(url);
            const lowerCaseUrl = url.toLowerCase();
            let isBlocked = false;

            // Check if the URL contains any blocked keyword
            for (const keyword of blockedKeywords) {
                if (lowerCaseUrl.includes(keyword)) {
                    isBlocked = true;
                    break;
                }
            }

            // Hide the welcome message to show the result
            welcomeView.classList.add('hidden');

            if (isBlocked) {
                // Show the blocked message
                blockedView.classList.remove('hidden');
            } else {
                // Hide the blocked message just in case
                blockedView.classList.add('hidden');
                
                // **THE FIX**: Redirect the whole browser to the safe URL
                window.location.href = formattedUrl;
            }
        }
    </script>
</body>
</html>

